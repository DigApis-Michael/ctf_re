RE4B

2018年1月24日
18:04

三个在线编辑器：

• http://gcc.godbolt.org -- 可以查看汇编
• http://melpon.org/wandbox/ – 支持 boost 库
• http://rextester.com/l/cpp_online_compiler_gcc -- 多种语言，代码

Hello world

使用在线工具Compiler Explorer编辑器，可得下面汇编指令结果

函数序言（函数在启动的时候运行的一系列指令）:


这些指令的功能为：在栈里保存RBQ寄存器的内容，将rsp的值复制到EBP寄存器，然后修改栈的高度，以便为本函数的局部变量申请存储空间。
函数尾声(函数在退出时要做启动过程的反操作，释放栈中申请的内存，还原rbp寄存器的值，将代码控制权还交给调用者函数)

main()函数返回0，则函数正常退出，main函数的最后一项任务；
操作指令ret功能：将控制权交给调用程序
编辑器通常采用异或运算指令，而不会使用指定，因为异或与运算的OPCODE较短(2zijie ：5字节)
X86-64框架的系统规范：在系统与应用程序接口规范中，EAX寄存器用来保存用过的向量寄存器。在调用print()之前，程序清空了EAX寄存器。
ARM:ARM程序使用r0寄存器传递函数返回值，使用LR寄存器存储函数结束之后的返回地址，x86程序使用”栈“结构存储上述返回地址。BX LR指令的作用是跳转到返回地址，即返回到调用者函数，然后继续执行caller的后续指令
GDB分析：
执行命令：gcc hello.c -03 -o hello 会在同目录下生成hello文件
GDB调试：
	Ø gdb hello(开始调试)
	Ø b main(在main函数处下断点)
	Ø run(运行程序，程序会在段点出停止)
	Ø ret step-mode on（开始step-mode模式，作用：在进行单步跟踪时，程序不会因为没有debug信息而不停住。这个参数有很利于查看机器码)
	Ø disas（查看当前函数的反汇编指令）
	Ø s（执行一条汇编指令）
	Ø x/s address(查看某地址处的数据，并以s(tring)格式显示)
radare分析
查看程序中的字符串:rabin2 -z hello
暴力破解CrackMe例子
作业：破解这个crackme
250382
